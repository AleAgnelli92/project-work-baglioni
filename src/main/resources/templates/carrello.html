<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Carrello</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/style.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300&family=Parisienne&display=swap" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@500&display=swap" rel="stylesheet">
	</head>
	<body>
		<!--NAVBAR-->
        <nav class="navbar fixed-top navbar-expand-lg navbar-dark">
            <div class="container-fluid elementiNav gx-0">
              <button class="navbar-toggler ms-auto  mt-3" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto me-4">
                  <li class="nav-item">
                    <a th:href="@{/}" class="nav-link text-secondary">Home</a>
                  </li>
                  <li class="nav-item">
                    <a th:href="@{/bio}" class="nav-link text-secondary">Bio</a>
                  </li>
                  <li class="nav-item">
                    <a th:href="@{/catalogo}" class="nav-link text-secondary">Catalogo</a>
                  </li>
                  <li class="nav-item">
                    <a th:if="${loggedIn}" class="icon-link text-secondary" th:href="@{/login}">
                      <i class='far fa-user-circle'></i>
                    </a>
                    <a th:unless="${loggedIn}" class="icon-link text-secondary" th:href="@{/personale}">
                      <i class='far fa-user-circle'></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a th:href="@{/carrello}" class="nav-link active icon-link" aria-current="page">
                      <i class='fas fa-shopping-bag'></i>
                    </a>
                  </li>
                </ul>
                
              </div>
            </div>
        </nav>
        <!--IMG-->
        <div class="text-bg-dark divImgCarrello">
            <img src="img/baglioniCarrello.jpg" class="imgCarrello img-fluid" alt="Baglioni Carrello">
        </div>
        <div>
		    	<a th:href="@{/catalogo}" class="tornaCatalogo"><i class='fas fa-angle-left'></i> Torna al catalogo</a>
		    </div>
        <!--CARD PRODOTTO SELEZIONATO-->
        <div class="container">
            <div class="titoloCarrello">
                <h4>Carrello</h4>
            </div>
            <div class="row my-4" >
                <div class="col-md-8">
                    <div th:each="album : ${albumNelCarrello}" class="row rowTabella">
                        <div class="col-md-3 colFotoCarrello col-sm">
                            <img th:if="${album.copertina == null}" th:src="@{'img/album_' + ${album.id} + '.jpg'}" class="img-thumbnail img-fluid" alt="Prodotto Carrello"> <!--GESTITA DA TH-->
                        </div>
                        <div class="col-md-7 colTitoloPrezzoCarrello col-sm">
                            <p th:text="'Titolo: ' + ${album.titolo}"></p> 
                            <p th:text="'Prezzo: ' + ${album.prezzo}"></p>
                        </div>
                      
                        <div class="col-md-2 colCestinoCarrello col-sm">
                        		
								<div id="confirm">
							      <p>Sei sicuro di voler eliminare questo prodotto dal carrello?</p>
							      <div class = "close">
							         <button th:onclick="'confermaEliminazione(' + ${album.id} + ')'" class="btn btn-dark btnPopUp"> Sì </button>
							         <button th:onclick = "closeConfirm()" class="btn btn-dark btnPopUp"> No </button>
							      </div>
							   </div>
							   <button th:onclick="showConfirm()" class="icon-link cestinoCarrello text-dark btn btn-light">
								    <i class='far fa-trash-alt'></i>
							</button>
						
							   
                        </div>
                        
                        
                        
                    </div>
                    <!-- 
                    <hr class="hr" />
                    <div class="row rowIndirizzo">
                        <h5 >Recap dei dati:</h5> 
                        <p></p>
                    </div>  -->
                </div>

                <div class="col-md-4 colonnaPagamento">
				    <h5>Pagamento</h5>
				    <p th:text="'Prezzo Totale: ' + ${totaleOrdineNelCarrello}" class="totalePagamento"></p>
				    <img src="img/paypal-icon.svg" class="payPal">
				<a id="pagaOraLoggedIn" th:href="@{/ordine/registraordine}" class="btn btn-dark btnPayPal" type="button" style="display: none;">Paga Ora</a>
				<a id="pagaOraNotLoggedIn" th:href="@{login}" class="btn btn-dark btnPayPal" type="button">Paga ora</a>
				
				
				<script>
					if (loggedIn) {
						document.getElementById("pagaOraLoggedIn").style.display = "inline-block";
					} else {
						document.getElementById("pagaOraNotLoggedIn").style.display = "inline-block";
					}
				</script>
				
				</div>
            </div>
        </div>
		
		<!-- FOOTER -->
        <footer class="text-center text-white bgFooterHome">
            <!-- Grid container -->
            <div class="container">
            
              <hr class="my-4" />
        
              <!-- Section: Text -->
              <section class="mb-5">
                <div class="row d-flex justify-content-center">
                  <div class="col-lg-8">
                    <p>Contatti</p>
                    <p>contattobaglioni@baglioni.it</p>
                  </div>
                </div>
              </section>
              <!-- Section: Text -->
        
              <!-- Section: Social -->
              <section class="text-center mb-5">
                <div class="divFooter">
                    <a href="https://www.facebook.com/claudiobaglioniofficial/" class="text-white me-4">
                    <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://twitter.com/claudiobaglioni" class="text-white me-4">
                    <i class="fab fa-twitter"></i>
                    </a>
                    <a href="https://www.instagram.com/claudiobaglioniofficial/" class="text-white me-4">
                    <i class="fab fa-instagram"></i>
                    </a>
                    <a href="https://www.youtube.com/user/claudiobaglionitv" class="text-white me-4">
                    <i class="fab fa-youtube"></i>
                    </a>
                </div>
              </section>
              <!-- Section: Social -->
            </div>
            <!-- Grid container -->
        
            <!-- Copyright -->
            <div class="text-center p-3">
              <p><small>© 2024 Copyright:</small></p>
              <p class="text-white"><small>Project Work Baglioni</small></p>
            </div>
            <!-- Copyright -->
          </footer>
          <!-- Footer -->
        




        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
        <script src="https://kit.fontawesome.com/458a2c3652.js" crossorigin="anonymous"></script>
        <script src="js/script.js" async defer></script>
    </body>    
</html>